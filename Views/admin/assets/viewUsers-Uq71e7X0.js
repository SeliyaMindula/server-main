import{r as c,j as e,L as h,c as v,S as N,d as f}from"./index-algzo-nC.js";import{P as $}from"./Pagination-2ATBRs-G.js";/* empty css             */const B=()=>{const y=["Name","Email","Job Role","Department","Status","Action"],[l,w]=c.useState(10),[m,x]=c.useState(1),[i,u]=c.useState([]),[t,k]=c.useState("active"),o=async s=>{k(s);let a;switch(s){case"active":a="active";break;case"pending":a="pending";break;case"inactive":a="inactive";break}try{const n=await b(a);u(n)}catch(n){console.log(n)}},b=async s=>{try{return(await v.get(`/users/${s}`)).data}catch(a){return N.fire({title:a.message,confirmButtonText:"OK"}),a.message}};c.useEffect(()=>{(async()=>{try{const a=await b("active");u(a)}catch(a){console.log(a)}})()},[]);const C=s=>{const a=parseInt(s.target.value,10);w(a),x(1)},A=async(s,a)=>{let n=a,g="ACTIVATE";a==="active"?(n="inactive",g="DEACTIVATE"):n="active",N.fire({title:`Do you want to ${g} this profile?`,showCancelButton:!0,confirmButtonText:"Yes"}).then(async E=>{if(E.isConfirmed){try{const d=await v.put(`/users/change-status/${s}`,{status:n});f(d.data)}catch(d){const D={error:d.message};f(D)}window.location.reload()}})},j=m*l,S=j-l,r=i.slice(S,j)||[],p=Math.ceil(i.length/l),P=[...Array(p+1).keys()].slice(1);return Array.isArray(i)?e.jsxs("div",{className:"view-user-container",children:[e.jsxs("div",{className:"page-title-box d-flex justify-content-between",children:[e.jsx("h4",{className:"page-title",children:"View User"}),e.jsx("nav",{"aria-label":"breadcrumb",children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(h,{to:"/",className:"b-link",children:"Home"})}),e.jsx("li",{className:"breadcrumb-item",children:e.jsx(h,{to:"#",className:"b-link",children:"User"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"View User"})]})})]}),e.jsxs("div",{className:"content",children:[e.jsxs("form",{action:"",className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"d-flex align-items-baseline",children:[e.jsx("label",{htmlFor:"",className:"form-label",children:"Show Entries:"}),e.jsxs("select",{name:"",id:"",className:"form-select en-numbers",onChange:C,style:{width:"70px"},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"d-flex filter rounded-pill",children:[e.jsx("button",{type:"button",className:`${t==="active"?"selected-btn rounded-pill":"f-btn"} col`,onClick:()=>{o("active")},children:"Active"}),e.jsx("button",{type:"button",className:`f-btn ${t==="pending"?"selected-btn rounded-pill":"f-btn"} col`,onClick:()=>{o("pending")},children:"Pending"}),e.jsx("button",{type:"button",className:`f-btn ${t==="inactive"?"selected-btn rounded-pill":"f-btn"} col`,onClick:()=>{o("inactive")},children:"Archived"})]})})]}),e.jsxs("div",{className:"col mt-4",children:[r.length>0&&e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{children:e.jsx("tr",{children:y.map((s,a)=>(t!=="pending"||s!=="Status"&&s!=="Action"&&s!=="Name"&&s!=="Edit")&&e.jsx("th",{children:s},a))})}),e.jsx("tbody",{children:r.length!==0&&r.map((s,a)=>e.jsxs("tr",{children:[t!=="pending"&&e.jsx("td",{className:"align-middle",children:e.jsx(h,{to:`/view-user/${s.id}`,className:"nav-link text-second primary-link ",children:s.full_name})}),e.jsx("td",{className:"align-middle",children:s.email}),e.jsx("td",{className:"align-middle",children:s.role}),e.jsx("td",{className:"align-middle",children:s.department}),t!=="pending"&&e.jsx("td",{className:"align-middle",children:e.jsx("label",{className:"form-check-label",htmlFor:`flexSwitchCheckChecked${a}`,children:s.status.toUpperCase()||"Deactivate"})}),t!=="pending"&&e.jsxs("td",{className:"align-middle",onClick:()=>A(s.id,s.status),children:[t==="active"&&e.jsxs("button",{className:"btn primary-link",children:[e.jsx("i",{className:"bi bi-archive me-1"}),"Archive"]}),t==="inactive"&&e.jsxs("button",{className:"btn primary-link",children:[e.jsx("i",{className:"bi  bi-arrow-clockwise me-1"}),"Active"]})]})]},a))})]}),r.length===0&&e.jsx("h3",{className:"text-center",children:"No data available ..."})]}),e.jsx($,{nPage:p,pageNumbers:P,currentPage:m,setCurrentPage:x,totalEntries:i.length,itemsPerPage:l})]})]}):e.jsx("div",{className:"h4 text-center",children:"No data available."})};export{B as default};

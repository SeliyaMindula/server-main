import{r as t,a as y,j as e,L as i,Z as P,S,c as m,d as o}from"./index-eyw8BnPF.js";import{P as A}from"./Pagination-uVTDb-MR.js";const I=()=>{const j=["IMAGE","VENUE NAME","PAX","STAGE SIZE","FLOOR AREA","CEILING HEIGHT","DELETE"],[r,b]=t.useState(10),[d,h]=t.useState(1),[c,g]=t.useState([]);t.useState("");const N=y(),p=s=>{const a=parseInt(s.target.value,10);b(a),h(1)},v=async()=>{try{const s=await m.get("/venues");g(s.data)}catch(s){console.log(s)}};t.useEffect(()=>{(async()=>{await v()})()},[]);const f=async s=>{try{S.fire({title:"Are you sure?",text:"Do you want to delete this venue?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async a=>{if(a.isConfirmed)try{const l=await m.delete(`/venues/${s}`);o(l.data),N(0)}catch(l){o({error:l.response.data.error})}})}catch(a){o({error:a.response.data.error})}},x=d*r,E=x-r,n=c.slice(E,x)||[],u=Math.ceil(c.length/r),w=[...Array(u+1).keys()].slice(1);return e.jsxs("div",{className:"view-user-container",children:[e.jsxs("div",{className:"page-title-box d-flex justify-content-between",children:[e.jsx("h4",{className:"page-title",children:"View Venues"}),e.jsx("nav",{"aria-label":"breadcrumb",children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(i,{to:"/",className:"b-link",children:"Home"})}),e.jsx("li",{className:"breadcrumb-item",children:e.jsx(i,{to:"#",className:"b-link",children:"Venue"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"View Venues"})]})})]}),e.jsxs("div",{className:"content",children:[e.jsx("form",{action:"",className:"row",children:e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"d-flex align-items-baseline",children:[e.jsx("label",{htmlFor:"",className:"col-4",children:"Show Entries:"}),e.jsxs("select",{name:"",id:"",className:"form-select en-numbers",onChange:p,style:{width:"150px"},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]})]})})}),e.jsxs("div",{className:"col mt-4",children:[n.length!==0&&e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),j.map((s,a)=>e.jsx("th",{children:s},a))]})}),e.jsx("tbody",{children:n.length!==0&&n.map((s,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:a+1}),e.jsx("td",{children:e.jsx("img",{src:`${P}/public/venue-image/${s.thumbnail}`,style:{width:"50px",height:"auto"},alt:""})}),e.jsx("td",{children:e.jsx(i,{to:`/bmichadmin/view-venue/${s.id}`,children:s.name})}),e.jsx("td",{children:s.capacity}),e.jsx("td",{children:s.stage}),e.jsx("td",{children:s.floor_area}),e.jsx("td",{children:s.ceiling_height}),e.jsx("td",{children:e.jsx("button",{className:"btn text-danger",onClick:()=>f(s.id),children:e.jsx("i",{className:"bi bi-trash-fill"})})})]},a))})]}),n.length===0&&e.jsx("h3",{className:"text-center",children:"No data available ..."})]}),e.jsx(A,{nPage:u,pageNumbers:w,currentPage:d,setCurrentPage:h,totalEntries:c.length,itemsPerPage:r})]})]})};export{I as default};

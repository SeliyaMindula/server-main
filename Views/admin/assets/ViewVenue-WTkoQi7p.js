import{r as x,j as e,Z as V,M as S,c as f,d as F,u as L,L as B}from"./index-1ZIe4Z95.js";import{c as A}from"./index-h9dsqqJb.js";import{O as $,A as M}from"./AddVenueFormValidation-hR2InnWK.js";import{u as q}from"./formik.esm-r2JvyV-y.js";import"./hoist-non-react-statics.cjs-ruMgn741.js";const W=({_data:n,setTrigger:h})=>{const[v,p]=x.useState(!1),[l,o]=x.useState({name:n.name,description:n.description,capacity:n.capacity,stage:n.stage,floor_area:n.floor_area,ceiling_height:n.ceiling_height,refundable_deposit:n.refundable_deposit,advance_payment:n.advance_payment,cancelation_fee:n.cancelation_fee,venue_type:JSON.parse(n.venue_type)}),u=async a=>{a.preventDefault(),p(!0);let _=[];S.map((g,y)=>{a.target[`venue_type_${g.value}`].checked&&_.push(g.value)});const j={...l,venue_type:JSON.stringify(_)};try{const g=await f.put(`/venues/basic-data/${n.id}`,j);console.log(g),p(!1),alert("Data updated successfully")}catch(g){console.log(g),p(!1),alert("Data update failed")}h(g=>!g)},[c,s]=x.useState(!1),[d,b]=x.useState(!1),[i,t]=x.useState(""),m=a=>{if(a.target.files.length===0){s(!0),t("Thumbnail is required");return}const _=a.target.files[0].type;if(_!=="image/png"&&_!=="image/jpg"&&_!=="image/jpeg"){s(!0),t("Thumbnail should be an image");return}if(a.target.files[0].size>1e6){s(!0),t("Thumbnail size should be less than 1MB");return}s(!1)},r=async a=>{a.preventDefault(),b(!0);const _=new FormData;if(a.target.thumbnail.files.length===0){s(!0),t("Thumbnail is required");return}const j=a.target.thumbnail.files[0].type;if(console.log(j),j!=="image/png"&&j!=="image/jpg"&&j!=="image/jpeg"){s(!0),t("Thumbnail should be an image"),b(!1);return}if(a.target.thumbnail.files[0].size>1e6){s(!0),t("Thumbnail size should be less than 1MB"),b(!1);return}s(!1),_.append("thumbnail",a.target.thumbnail.files[0]);try{const g=await f.post(`/venues/gallery/${n.id}`,_,{headers:{"Content-Type":"multipart/form-data"}});b(!1),h(y=>!y),F({success:"Image updated successfully"})}catch(g){b(!1),console.log(g),g.response.data&&F({error:g.response.data.error})}};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("img",{src:`${V}/public/venue-image/${n.thumbnail}`,style:{width:"auto",height:"200px"},alt:""}),e.jsxs("form",{onSubmit:r,children:[e.jsx("input",{className:"form-control col my-3",type:"file",id:"image_upload_thumbnail",name:"thumbnail",accept:".jpg, .jpeg, .png",onChange:m,required:!0}),e.jsx("div",{children:c&&e.jsx("p",{style:{color:"red"},children:i})}),d?e.jsxs("button",{className:"btn btn-primary my-3",type:"button",disabled:!0,children:[e.jsx("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"}),"Loading..."]}):e.jsx("button",{type:"submit",className:"btn btn-primary my-3",children:"Update Image"})]})]}),e.jsx("h5",{style:{textAlign:"center"},children:"Basic Data"}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"venue_view_name",className:"form-label",children:"Name"}),e.jsx("input",{type:"text",className:"form-control",id:"venue_view_name",name:"name",value:l.name,onChange:a=>o({...l,name:a.target.value}),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"venue_view_description",className:"form-label",children:"Description"}),e.jsx("textarea",{name:"description",id:"venue_view_description",rows:"3",type:"text",className:"form-control",value:l.description,onChange:a=>o({...l,description:a.target.value}),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"venue_view_capacity",className:"form-label",children:"Capacity"}),e.jsx("input",{type:"number",min:0,className:"form-control",id:"venue_view_capacity",name:"capacity",value:l.capacity,onChange:a=>o({...l,capacity:a.target.value}),required:!0,step:"0.01"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"venue_view_stage",className:"form-label",children:"Stage (sqft)"}),e.jsx("input",{type:"number",min:0,className:"form-control",id:"venue_view_stage",name:"stage",value:l.stage,onChange:a=>o({...l,stage:a.target.value}),required:!0,step:"0.01"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"venue_view_floor_area",className:"form-label",children:"Floor Area (sqft)"}),e.jsx("input",{type:"number",min:0,className:"form-control",id:"venue_view_floor_area",name:"floor_area",value:l.floor_area,onChange:a=>o({...l,floor_area:a.target.value}),required:!0,step:"0.01"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"venue_view_ceiling_height",className:"form-label",children:"Ceiling Height (ft)"}),e.jsx("input",{type:"number",min:0,className:"form-control",id:"venue_view_ceiling_height",name:"ceiling_height",value:l.ceiling_height,onChange:a=>o({...l,ceiling_height:a.target.value}),required:!0,step:"0.01"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"venue_view_refundable_deposit",className:"form-label",children:"Refundable Deposit (LKR)"}),e.jsx("input",{type:"number",min:0,className:"form-control",id:"venue_view_refundable_deposit",name:"refundable_deposit",value:l.refundable_deposit,onChange:a=>o({...l,refundable_deposit:a.target.value}),required:!0,step:"0.01"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"venue_view_advance_payment",className:"form-label",children:"Advance Payment (LKR)"}),e.jsx("input",{type:"number",min:0,className:"form-control",id:"venue_view_advance_payment",name:"advance_payment",value:l.advance_payment,onChange:a=>o({...l,advance_payment:a.target.value}),required:!0,step:"0.01"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"venue_view_cancelation_fee",className:"form-label",children:"Cancelation Fee (LKR)"}),e.jsx("input",{type:"number",min:0,className:"form-control",id:"venue_view_cancelation_fee",name:"cancelation_fee",value:l.cancelation_fee,onChange:a=>o({...l,cancelation_fee:a.target.value}),required:!0,step:"0.01"})]}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{style:{display:"flex",width:"100%"},className:"row row-cols-3",children:S.map((a,_)=>e.jsxs("span",{className:"my-1",children:[e.jsx("input",{className:"form-check-input mx-2",name:`venue_type_${a.value}`,type:"checkbox",defaultChecked:l.venue_type.includes(a.value),id:`flexCheckDefault${_}`}),e.jsx("label",{className:"form-check-label",htmlFor:`flexCheckDefault${_}`,children:a.label}),e.jsx("br",{})]},_))})}),v?e.jsxs("button",{className:"btn btn-primary",type:"button",disabled:!0,children:[e.jsx("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"}),"Loading..."]}):e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})},I=({option:n,setTrigger:h})=>{const[v,p]=x.useState(!1),[l,o]=x.useState(!1),[u,c]=x.useState(!1),[s,d]=x.useState({title:n.title,initial_booking_hours:n.initial_booking_hours,price_per_additional_hour:n.price_per_additional_hour,book_with_another_option:n.book_with_another_option,fri_sat_sun:n.fri_sat_sun,tue_wed_thu:n.tue_wed_thu,mon:n.mon}),b=async t=>{t.preventDefault(),o(!0);try{const m=await f.put(`/venues/option/${n.option_id}`,s);o(!1),alert("Data Updated Successfully")}catch(m){console.log(m),o(!1),alert("Failed to update data")}h(m=>!m)},i=async()=>{c(!0);try{const t=await f.delete(`/venues/option/${n.option_id}`);c(!1),alert("Option Deleted Successfully")}catch(t){console.log(t),c(!1),alert("Failed to delete option")}h(t=>!t)};return e.jsx("div",{children:e.jsxs("div",{className:"card mb-2",children:[e.jsxs("div",{className:"content p-3 d-flex justify-content-between align-middle",children:[e.jsx("h6",{className:"m-0 text-decoration-underline cursor-pointer",onClick:()=>p(t=>!t),children:n.title}),u?e.jsx("p",{style:{margin:"0"},children:"Loading..."}):e.jsx(A,{className:"fs-3",style:{color:"red",curser:"pointer"},onClick:i})]}),v&&e.jsxs("form",{className:"content",onSubmit:b,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"option_id",className:"form-label",children:"Option ID"}),e.jsx("input",{type:"number",className:"form-control",id:"option_id",name:"option_id",value:n.option_id,required:!0,disabled:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"option_title",className:"form-label",children:"Option Title"}),e.jsx("input",{type:"text",className:"form-control",id:"option_title",name:"option_title",value:s.title,onChange:t=>d({...s,title:t.target.value}),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"initial_booking_hours",className:"form-label",children:"Initial Booking Hours"}),e.jsx("input",{type:"number",className:"form-control",id:"initial_booking_hours",name:"initial_booking_hours",value:s.initial_booking_hours,onChange:t=>d({...s,initial_booking_hours:t.target.value}),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"price_per_additional_hour",className:"form-label",children:"Price Per Additional Hours"}),e.jsx("input",{type:"number",className:"form-control",id:"price_per_additional_hour",name:"price_per_additional_hour",value:s.price_per_additional_hour,onChange:t=>d({...s,price_per_additional_hour:t.target.value}),step:"0.01"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"book_with_another_venue",className:"form-label",children:"Book With Another Venue"}),e.jsx("br",{}),e.jsxs("select",{className:"form-select","aria-label":"Default select example",name:"book_with_another_venue",defaultValue:s.book_with_another_option,id:"book_with_another_venue",onChange:t=>d({...s,book_with_another_option:t.target.value}),required:!0,children:[e.jsx("option",{value:1,children:"Yes"}),e.jsx("option",{value:0,children:"No"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"fri_sat_sun",className:"form-label",children:"Price (fri, sat, sun) "}),e.jsx("input",{type:"number",className:"form-control",id:"fri_sat_sun",name:"fri_sat_sun",value:s.fri_sat_sun,onChange:t=>d({...s,fri_sat_sun:t.target.value}),required:!0,step:"0.01"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"tue_wed_thu",className:"form-label",children:"Price (tue, wed, thu) "}),e.jsx("input",{type:"number",className:"form-control",id:"tue_wed_thu",name:"tue_wed_thu",value:s.tue_wed_thu,onChange:t=>d({...s,tue_wed_thu:t.target.value}),required:!0,step:"0.01"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"mon",className:"form-label",children:"Price (mon) "}),e.jsx("input",{type:"number",className:"form-control",id:"mon",name:"mon",value:s.mon,onChange:t=>d({...s,mon:t.target.value}),required:!0,step:"0.01"})]}),l?e.jsxs("button",{className:"btn btn-primary",type:"button",disabled:!0,children:[e.jsx("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"}),"Loading..."]}):e.jsx("button",{className:"btn btn-primary",type:"submit",children:"Update"})]})]})})},U=({options:n,setTrigger:h,setOpen:v})=>e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("h5",{style:{textAlign:"center"},children:"Booking Options"}),e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end",marginBottom:"20px"},children:e.jsx("button",{className:"btn btn-primary",onClick:()=>v(!0),children:"Add New Option"})}),n==null?void 0:n.map((p,l)=>e.jsx(I,{option:p,setTrigger:h},l))]}),H=({setOpen:n,venue_id:h,setOptions:v,setTrigger:p})=>{const l=async r=>{const{title:a,initial_booking_hours:_,price_per_additional_hour:j,max_booking_hours:g,book_with_another_option:y,different_prices:C,same_date_price:k,different_date_price_Fri_Sat_Sun:D,different_date_price_Tue_Wed_Thu:T,different_date_price_Mon:O}=r;let w={};C?w={title:a,initial_booking_hours:_,price_per_additional_hour:j,max_booking_hours:12,book_with_another_option:y,different_prices:C,different_date_price_Fri_Sat_Sun:D,different_date_price_Tue_Wed_Thu:T,different_date_price_Mon:O}:w={title:a,initial_booking_hours:_,price_per_additional_hour:j,max_booking_hours:12,book_with_another_option:y,different_prices:C,different_date_price_Fri_Sat_Sun:k,different_date_price_Tue_Wed_Thu:k,different_date_price_Mon:k};const P=JSON.stringify([w]);try{const N=await f.post(`/venues/option/${h}`,{options:P});console.log(N.data),alert("Venue Option Added Successfully")}catch(N){console.log(N),alert("Failed Add Venue Option")}n(!1),p(N=>!N)},{values:o,errors:u,handleChange:c,touched:s,handleBlur:d,handleSubmit:b,setFieldValue:i,resetForm:t}=q({initialValues:{title:"",initial_booking_hours:"",price_per_additional_hour:"",max_booking_hours:"",book_with_another_option:"",different_prices:!1,same_date_price:"",different_date_price_Fri_Sat_Sun:"",different_date_price_Tue_Wed_Thu:"",different_date_price_Mon:""},validationSchema:$,onSubmit:r=>l(r)}),m=[{_id:1,label:"Title:",type:"text",name:"title",value:o.title,error:u.title,touched:s.title,onChange:c,onBlur:d},{_id:2,label:"Initial Booking Hours:",type:"number",name:"initial_booking_hours",value:o.initial_booking_hours,error:u.initial_booking_hours,touched:s.initial_booking_hours,onChange:c,onBlur:d},{_id:4,label:"Price Per Additional Hour:",type:"number",name:"price_per_additional_hour",value:o.price_per_additional_hour,error:u.price_per_additional_hour,touched:s.price_per_additional_hour,onChange:c,onBlur:d},{_id:6,label:"Book With Another Option:",type:"select",name:"book_with_another_option",value:o.book_with_another_option,error:u.book_with_another_option,touched:s.book_with_another_option,onChange:c,onBlur:d,option:[{value:!0,label:"Yes"},{value:!1,label:"No"}]},{_id:5,label:"Different Prices",type:"checkbox",name:"different_prices",value:o.different_prices,error:u.different_prices,touched:s.different_prices,onChange:c,onBlur:d,same:[{_id:6,label:"Price:",type:"number",name:"same_date_price",value:o.same_date_price,error:u.same_date_price,touched:s.same_date_price,onChange:c,onBlur:d}],different:[{_id:7,label:"Price (Fri/Sat/Sun):",type:"number",name:"different_date_price_Fri_Sat_Sun",value:o.different_date_price_Fri_Sat_Sun,error:u.different_date_price_Fri_Sat_Sun,touched:s.different_date_price_Fri_Sat_Sun,onChange:c,onBlur:d},{_id:8,label:"Price (Tue/Wed/Thu):",type:"number",name:"different_date_price_Tue_Wed_Thu",value:o.different_date_price_Tue_Wed_Thu,error:u.different_date_price_Tue_Wed_Thu,touched:s.different_date_price_Tue_Wed_Thu,onChange:c,onBlur:d},{_id:9,label:"Price (Mon):",type:"number",name:"different_date_price_Mon",value:o.different_date_price_Mon,error:u.different_date_price_Mon,touched:s.different_date_price_Mon,onChange:c,onBlur:d}]}];return e.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Add Venue Option"}),e.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>n(!1)})]}),e.jsxs("form",{onSubmit:b,children:[e.jsx("div",{className:"modal-body",children:m.map(r=>r.type==="select"?e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:r.name,className:"form-label",children:r.label}),e.jsxs("select",{className:`form-control ${r.error&&r.touched?"is-invalid":""}`,id:r.name,name:r.name,value:r.value,onChange:r.onChange,onBlur:r.onBlur,children:[e.jsx("option",{value:"",children:"Select"}),r.option.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]}),e.jsx("div",{className:"invalid-feedback",children:r.error})]},r._id):r.type==="checkbox"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3 form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:r.name,name:r.name,value:r.value,onChange:r.onChange,onBlur:r.onBlur}),e.jsx("label",{className:"form-check-label",htmlFor:r.name,children:r.label})]},r._id),r.value?r.different.map(a=>e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:a.name,className:"form-label",children:a.label}),e.jsx("input",{type:a.type,className:`form-control ${a.error&&a.touched?"is-invalid":""}`,id:a.name,name:a.name,value:a.value,onChange:a.onChange,onBlur:a.onBlur}),e.jsx("div",{className:"invalid-feedback",children:a.error})]},a._id)):r.same.map(a=>e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:a.name,className:"form-label",children:a.label}),e.jsx("input",{type:a.type,className:`form-control ${a.error&&a.touched?"is-invalid":""}`,id:a.name,name:a.name,value:a.value,onChange:a.onChange,onBlur:a.onBlur}),e.jsx("div",{className:"invalid-feedback",children:a.error})]},a._id))]}):e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:r.name,className:"form-label",children:r.label}),e.jsx("input",{type:r.type,className:`form-control ${r.error&&r.touched?"is-invalid":""}`,id:r.name,name:r.name,value:r.value,onChange:r.onChange,onBlur:r.onBlur}),e.jsx("div",{className:"invalid-feedback",children:r.error})]},r._id))}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>n(!1),children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Add Venue"})]})]})]})})})},R=({addon:n,setTrigger:h})=>{const[v,p]=x.useState(!1),[l,o]=x.useState(!1),[u,c]=x.useState(!1),[s,d]=x.useState({add_ons_id:n.add_ons_id,addon_name:n.add_ons_name,addon_description:n.add_ons_description,cost:n.cost,max_qty:n.max_qty}),b=async()=>{o(!0);try{const t=await f.delete(`/venues/addon/${n.add_ons_id}`);o(!1),alert("Deleted Successfully")}catch(t){console.log(t),o(!1),alert("Failed to delete")}h(t=>!t)},i=async t=>{t.preventDefault(),p(!0);try{const m=await f.put(`/venues/addon/${n.add_ons_id}`,s);p(!1),alert("Data Updated Successfully")}catch(m){console.log(m),p(!1),alert("Failed to update data")}h(m=>!m)};return e.jsx("div",{children:e.jsxs("div",{className:"card mb-2",children:[e.jsxs("div",{className:"content p-3 d-flex justify-content-between align-middle",children:[e.jsx("h6",{className:"m-0 text-decoration-underline cursor-pointer",onClick:()=>c(t=>!t),children:n.add_ons_name}),l?e.jsx("p",{style:{margin:"0"},children:"Loading..."}):e.jsx(A,{className:"fs-3",style:{color:"red",curser:"pointer"},onClick:b})]}),u&&e.jsxs("form",{className:"content",onSubmit:i,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"addon_id",className:"form-label",children:"ID"}),e.jsx("input",{type:"number",className:"form-control",id:"addon_id",name:"addon_id",value:s.add_ons_id,required:!0,disabled:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"addon_name",className:"form-label",children:"Name"}),e.jsx("input",{type:"text",className:"form-control",id:"addon_name",name:"addon_name",value:s.addon_name,onChange:t=>d(m=>({...m,addon_name:t.target.value})),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"addon_description",className:"form-label",children:"Description"}),e.jsx("input",{type:"text",className:"form-control",id:"addon_description",name:"addon_description",value:s.addon_description,onChange:t=>d(m=>({...m,addon_description:t.target.value})),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"addon_const",className:"form-label",children:"Price (LKR):"}),e.jsx("input",{type:"number",className:"form-control",id:"addon_const",name:"addon_const",value:s.cost,onChange:t=>d(m=>({...m,cost:t.target.value})),required:!0,min:0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"addon_max_qty",className:"form-label",children:"Maximum Quantity"}),e.jsx("input",{type:"number",className:"form-control",id:"addon_max_qty",name:"addon_max_qty",value:s.max_qty,onChange:t=>d(m=>({...m,max_qty:t.target.value})),required:!0,min:0})]}),v?e.jsxs("button",{className:"btn btn-primary",type:"button",disabled:!0,children:[e.jsx("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"}),"Loading..."]}):e.jsx("button",{className:"btn btn-primary",type:"submit",children:"Update"})]})]})})},E=({addons:n,setTrigger:h,setOpen:v})=>e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("h5",{style:{textAlign:"center"},children:"Add-ons"}),e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end",marginBottom:"20px"},children:e.jsx("button",{className:"btn btn-primary",onClick:()=>v(!0),children:"New Add-ons"})}),n==null?void 0:n.map((p,l)=>e.jsx(R,{addon:p,setTrigger:h,setOpen:v},l))]}),z=({setOpen:n,venue_id:h,setTrigger:v})=>{const p=async i=>{const{add_ons_name:t,add_ons_description:m,cost:r}=i,a=[{add_ons_name:t,add_ons_description:m,cost:r}];try{const _=await f.post(`/venues/addons/${h}`,{addons:JSON.stringify(a)});console.log(_),alert("Add-ons Added Successfully")}catch(_){console.log(_),alert("Failed to add Add-ons")}n(!1),v(_=>!_)},{values:l,errors:o,handleChange:u,touched:c,handleBlur:s,handleSubmit:d}=q({initialValues:{add_ons_name:"",add_ons_description:"",cost:""},validationSchema:M,onSubmit:i=>p(i)}),b=[{_id:1,label:"Add-ons Name:",type:"text",name:"add_ons_name",value:l.add_ons_name,error:o.add_ons_name,touched:c.add_ons_name,onChange:u,onBlur:s},{_id:2,label:"Add-ons Description:",type:"text-area",name:"add_ons_description",value:l.add_ons_description,error:o.add_ons_description,touched:c.add_ons_description,onChange:u,onBlur:s},{_id:3,label:"Cost:",type:"number",name:"cost",value:l.cost,error:o.cost,touched:c.cost,onChange:u,onBlur:s}];return e.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Add Venue Add-ons"}),e.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>n(!1)})]}),e.jsxs("form",{onSubmit:d,children:[e.jsx("div",{className:"modal-body",children:b.map(i=>i.type==="text-area"?e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:i.name,className:"form-label",children:i.label}),e.jsx("textarea",{className:`form-control ${i.error&&i.touched?"is-invalid":""}`,id:i.name,name:i.name,value:i.value,onChange:i.onChange,onBlur:i.onBlur}),e.jsx("div",{className:"invalid-feedback",children:i.error})]},i._id):e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:i.name,className:"form-label",children:i.label}),e.jsx("input",{type:i.type,className:`form-control ${i.error&&i.touched?"is-invalid":""}`,id:i.name,name:i.name,value:i.value,onChange:i.onChange,onBlur:i.onBlur}),e.jsx("div",{className:"invalid-feedback",children:i.error})]},i._id))}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>n(!1),children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Add Add-on"})]})]})]})})})},G=()=>{const{id:n}=L(),[h,v]=x.useState(),[p,l]=x.useState(!1),[o,u]=x.useState(!1),[c,s]=x.useState(!1);return x.useEffect(()=>{(async()=>{try{const b=await f(`/venues/${n}`);console.log(b),v(b.data)}catch(b){console.log(b)}})()},[p]),h?e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("div",{style:{height:"100%"},children:o&&e.jsx(H,{setOpen:u,venue_id:n,setTrigger:l})}),e.jsx("div",{style:{height:"100%"},children:c&&e.jsx(z,{setOpen:s,venue_id:n,setTrigger:l})}),e.jsxs("div",{className:"page-title-box d-flex justify-content-between",children:[e.jsx("h4",{className:"page-title",children:"View Venue"}),e.jsx("nav",{"aria-label":"breadcrumb",children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(B,{to:"/",className:"b-link",children:"Home"})}),e.jsx("li",{className:"breadcrumb-item",children:e.jsx(B,{to:"#",className:"b-link",children:"Venue"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"View Venue"})]})})]}),e.jsxs("div",{children:[e.jsx(W,{_data:h.basic,setTrigger:l}),e.jsx("hr",{}),e.jsx(U,{options:h.options,setTrigger:l,setOpen:u}),e.jsx("hr",{}),e.jsx(E,{addons:h.add_ons,setTrigger:l,setOpen:s})]})]})}):e.jsx("div",{children:"Loading..."})};export{G as default};

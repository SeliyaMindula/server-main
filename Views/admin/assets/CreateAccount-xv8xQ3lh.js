import{r as t,u as f,j as e,q as b,c as i,S as g,d as c}from"./index-algzo-nC.js";/* empty css             */import{C as j}from"./CopyRight-Keljo5HL.js";const v=()=>{const[o,n]=t.useState({username:"",fullName:"",employeeNo:"",password:"",confirmPassword:"",profilePicture:null}),[r,d]=t.useState(null),{id:p}=f(),m=async a=>{try{return(await i.get(`/users/get-token-user/${a}`)).data}catch(s){c({error:s.message})}};t.useState(()=>{(async()=>{const s=await m(p);d(s)})()},[r]);const u=(a,s)=>{n(l=>({...l,[a]:s}))},h=a=>{const s=a.target.files[0];n(l=>({...l,profilePicture:s}))},x=async()=>{const a=r[0].id,s=new FormData;s.append("username",o.username),s.append("fullName",o.fullName),s.append("emp_no",o.employeeNo),s.append("password",o.password),s.append("token",r[0].token),s.append("avatar",o.profilePicture);try{const l=await i.put(`/users/create-account/${a}`,s,{headers:{"Content-Type":"multipart/from-data"}});g.fire({title:"Success",icon:"success",titleText:"Your account created!",timer:5e3,position:"top-end"}).then(()=>{window.location.href="/login"})}catch(l){c({error:l.response.data.error})}};return e.jsx("div",{className:"form-container m-5",children:e.jsxs("div",{className:"col  ",children:[e.jsx("div",{style:{width:"100%",height:"50px",textAlign:"center",marginTop:"10px"},children:e.jsx("img",{src:b,alt:"logo",style:{width:"200px",height:"auto"}})}),e.jsxs("div",{className:"d-flex bg-white ",style:{marginTop:"85px"},children:[e.jsxs("div",{className:"col-6 p-4",children:[e.jsx("h4",{children:"BMICH"}),e.jsx("h6",{children:"Create Your Account"}),e.jsx("p",{children:"Create your BMICH reservation system account"}),e.jsxs("form",{children:[[{label:"Username",icon:"bi bi-person-fill",field:"username"},{label:"Full Name",icon:"bi bi-person-check-fill",field:"fullName"},{label:"Employee No",icon:"bi bi-person-badge-fill",field:"employeeNo"},{label:"Password",icon:"bi bi-person-fill-lock",field:"password"},{label:"Confirm Password",icon:"bi bi-person-fill-lock",field:"confirmPassword"}].map((a,s)=>e.jsxs("div",{className:"col mt-3",children:[e.jsx("label",{htmlFor:a.field,className:"fw-bold",children:a.label}),e.jsxs("div",{className:"d-flex input-group",children:[e.jsx("span",{className:"p-2 icon",children:e.jsx("i",{className:a.icon})}),e.jsx("input",{type:a.label.toLowerCase().includes("password")?"password":"text",className:"form-control",placeholder:a.label,value:o[a.field],onChange:l=>u(a.field,l.target.value)})]})]},s)),e.jsxs("div",{className:"col mt-3",children:[e.jsx("label",{htmlFor:"image",className:"fw-bold",children:"Profile Picture"}),e.jsxs("div",{className:"d-flex input-group",children:[e.jsx("span",{className:"p-2 icon",children:e.jsx("i",{className:"bi bi-person-bounding-box"})}),e.jsx("input",{className:"form-control",type:"file",id:"formFileMultiple",multiple:!0,onChange:h})]})]}),e.jsx("div",{className:"col mt-4",children:e.jsx("button",{type:"button",className:"btn btn-gold col-12",onClick:x,children:"Sign Up"})})]})]}),e.jsx("div",{className:"col-6 bg-img"})]}),e.jsx("div",{className:"text-center mt-5",children:e.jsx(j,{})})]})})};export{v as default};

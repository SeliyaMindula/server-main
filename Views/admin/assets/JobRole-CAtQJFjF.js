import{r as t,a as C,j as e,L as b,c as o,d as l}from"./index-1ZIe4Z95.js";import{T as E}from"./TextInput-Buusu_Su.js";import{P as J}from"./Pagination-8CN8iVSE.js";const I=()=>{const j=["JOB ROLE","DELETE"],[r,p]=t.useState(10),[i,d]=t.useState(1),[n,u]=t.useState([]),h=C(),[g,N]=t.useState(""),v=s=>{const a=parseInt(s.target.value,10);p(a),d(1)},m=i*r,y=m-r,c=n.slice(y,m)||[],x=Math.ceil(n.length/r),f=[...Array(x+1).keys()].slice(1),P=async()=>{try{return(await o.get("/job-roles/")).data}catch(s){console.log(s),l({error:s.response.data.error})}};t.useEffect(()=>{(async()=>{const a=await P();Array.isArray(a)&&u(a)})()},[]);const R=async()=>{try{const s=await o.post("/job-roles",{role:g});l(s),h(0)}catch(s){l({error:s.response.data.error})}},w=async s=>{try{const a=await o.delete(`/job-roles/${s}`);l(a)}catch(a){l({error:a.response.data.error}),h(0)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"page-title-box d-flex justify-content-between",children:[e.jsx("h4",{className:"page-title",children:"Job Role"}),e.jsx("nav",{"aria-label":"breadcrumb",children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item ",children:e.jsx(b,{className:"b-link",to:"/",children:"Home"})}),e.jsx("li",{className:"breadcrumb-item ",children:e.jsx(b,{className:"b-link",to:"#",children:"System"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Job Role"})]})})]}),e.jsxs("div",{className:"content",children:[e.jsx("h5",{children:"Add Job Role"}),e.jsx("div",{className:"col-7 mt-4",children:e.jsxs("div",{className:"d-flex",style:{width:"100%"},children:[e.jsx(E,{label:"Add Job Role:",parentClasses:"d-flex align-items-center",type:"text",labelClass:"col-4",inputClass:"col",onChange:s=>N(s.target.value)}),e.jsx("button",{className:"btn btn-primary col-1 ms-2",onClick:R,children:"Add"})]})}),e.jsx("h5",{className:"mt-5",children:"Job Roles"}),e.jsxs("div",{className:"d-flex align-items-baseline",style:{width:"50%"},children:[e.jsx("label",{htmlFor:"",className:"",children:"Show Entries:"}),e.jsxs("select",{name:"",id:"",className:"form-select en-numbers col-2",onChange:v,style:{width:"100px"},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]})]}),e.jsxs("div",{className:"col mt-4",children:[e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{children:e.jsx("tr",{children:j.map((s,a)=>e.jsx("th",{children:s},a))})}),e.jsx("tbody",{children:c.length!==0&&c.map((s,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"align-middle",children:s.role}),e.jsx("td",{className:"align-middle",children:e.jsx("button",{className:"btn text-danger",onClick:()=>w(s.id),children:e.jsx("i",{className:"bi bi-trash-fill"})})})]},a))})]}),c.length===0&&e.jsx("h3",{className:"text-center",children:"No data available ..."})]}),e.jsx(J,{nPage:x,pageNumbers:f,currentPage:i,setCurrentPage:d,totalEntries:n.length,itemsPerPage:r})]})]})};export{I as default};

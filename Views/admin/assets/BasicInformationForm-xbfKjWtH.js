import{j as a,r as _,a as D,b as T,B as z,M as R,c as V,d as k}from"./index-algzo-nC.js";import{u as A}from"./formik.esm-liczCqIR.js";import{B as E}from"./AddVenueFormValidation-SSvpa0wA.js";import{T as H}from"./TextInput-l4_44VDM.js";import{D as q}from"./DropDown-qeVNnBR-.js";import"./hoist-non-react-statics.cjs-ruMgn741.js";import"./react-select.esm-lLAdDy9E.js";import"./defineProperty-QXht6sKD.js";import"./typeof-Q9eVcF_1.js";import"./emotion-react.browser.esm-iBc53iNB.js";import"./TransitionGroup-oq80xEHv.js";const I=({parentClasses:m,label:t,labelClass:c,touched:d,errText:p,error:i,handleBlur:s,name:l,value:o,_id:r,onChange:u})=>a.jsxs("div",{className:m,style:{width:"100%",maxWidth:"500px",minHeight:"85px"},children:[a.jsx("label",{htmlFor:t,className:c,children:t}),a.jsxs("div",{style:{width:"100%"},children:[a.jsx("textarea",{className:"form-control col ",id:r,value:o,style:{width:"100%"},name:l,onBlur:s,onChange:u}),a.jsx("div",{children:d&&i?a.jsx("p",{style:{color:"red"},children:p}):null})]})]}),Y=()=>{const[m,t]=_.useState(!1),c=D(),d=async e=>{const{venue_name:y,description:h,pax:g,stage_size:f,floor_area:v,ceiling_height:j,venue_type:C,refundable_deposit:S,advance_payment:w,cancelation_fee:N}=e,F=C.map(n=>n.value),B={venue_name:y,description:h,pax:g,stage_size:f,floor_area:v,ceiling_height:j,refundable_deposit:S,cancelation_fee:N,advance_payment:w,venue_type:JSON.stringify(F)};try{t(!0);const n=await V.post("/venues/basic-data",B);n.data.id&&(console.log(n.data.id),c(`/bmichadmin/add-venue/gallery/${n.data.id}`)),t(!1)}catch(n){t(!1),console.log(n),n.response.data&&k({error:n.response.data.error})}},p=T(e=>e.updateStep);_.useEffect(()=>{p(0)},[]);const{values:i,errors:s,handleChange:l,touched:o,handleBlur:r,handleSubmit:u,setFieldValue:b,resetForm:P}=A({initialValues:{venue_name:"",description:"",pax:"",stage_size:"",floor_area:"",ceiling_height:"",refundable_deposit:"",advance_payment:"",cancelation_fee:"",venue_type:[]},validationSchema:E,onSubmit:e=>d(e)}),x=[{_id:1,label:"Venue Name:",type:"text",name:"venue_name",id:"basic_information_venue_name"},{_id:2,label:"Description:",type:"text-area",name:"description",id:"basic_information_description"},{_id:3,label:"Pax (Capacity):",type:"number",name:"pax",id:"basic_information_pax"},{_id:4,label:"Stage Size (sqft):",type:"number",name:"stage_size",id:"basic_information_stage_size"},{_id:5,label:"Floor Area (sqft):",type:"number",name:"floor_area",id:"basic_information_floor_area"},{_id:6,label:"Ceiling Height (ft):",type:"number",name:"ceiling_height",id:"basic_information_ceiling_height"},{_id:8,label:"Refundable Deposit (Rs.):",type:"number",name:"refundable_deposit",id:"basic_information_refundable_deposit"},{_id:9,label:"Advance Payment (Rs.):",type:"number",name:"advance_payment",id:"basic_information_cancelation_fee"},{_id:10,label:"Cancelation Fee (Rs.):",type:"number",name:"cancelation_fee",id:"basic_information_advance_payment"},{_id:11,label:"Venue Type:",type:"select",name:"venue_type",id:"basic_information_venue_type",options:R}];return a.jsx(a.Fragment,{children:a.jsx(z,{sx:{width:"100%",background:"#fff",padding:"30px 10px",marginTop:1,border:"1px solid #eee"},children:a.jsxs("form",{style:{padding:"10px",maxWidth:"500px"},onSubmit:u,children:[x.map(e=>e.type==="text-area"?a.jsx(I,{label:e.label,_id:e._id,parentClasses:"d-flex align-items-baseline",inputClass:"col",labelClass:"col-3 fw-bold",name:e.name,onChange:l,handleBlur:r,touched:o[e.name],error:s[e.name],errText:s[e.name],value:i[e.name]},e._id):e.type==="select"?a.jsx(q,{label:e.label,_id:e._id,parentClasses:"d-flex align-items-baseline",inputClass:"col",labelClass:"col-3 fw-bold",name:e.name,option:e.options,setFieldValue:b,value:i[e.name],handleBlur:r,touched:o[e.name],error:s[e.name]},e._id):a.jsx(H,{label:e.label,_id:e._id,type:e.type,parentClasses:"d-flex align-items-baseline",inputClass:"col",labelClass:"col-3 fw-bold",name:e.name,handleBlur:r,touched:o[e.name],error:s[e.name],onChange:l,value:i[e.name]},e._id)),a.jsx("div",{style:{display:"flex",justifyContent:"space-between"},children:m?a.jsx("button",{className:"d-block ms-auto btn btn-primary col-5",type:"button",disabled:!0,children:a.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})}):a.jsx("button",{type:"submit",className:"d-block ms-auto btn btn-primary col-5",children:"Next"})})]})})})};export{Y as default};
